<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <title>Teste</title>

    <style>
      html{
        box-sizing: border-box;
        margin: 0;
      }

      body{
        background-color: #e4e4e4;
        
      }

      h1{
        margin-bottom: 15px;
        margin-top: 15px;
        text-align: center;
        font-size: 30pt;
      }

      h2{
        margin-bottom: 15px;
        margin-top: 15px;
        text-align: center;
        font-size: 15pt;
      }

      #navbar-sc{
        font-weight: bold; 
        font-size: 12pt;
      }

      .content{
        display: flex; 
        flex-direction: row; 
        padding: 20px 10px; 
        justify-content: space-between;
      }

      mbr-overlay{
        display: flex; 
        flex-direction: column; 
        flex: 1; 
        justify-self: center;
      }

      .carousel-control-prev-icon {
        background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 8 8'%3E%3Cpath d='M5.25 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z'/%3E%3C/svg%3E");
      } 

      .carousel-control-next-icon {
        background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 8 8'%3E%3Cpath d='M2.75 0l-1.5 1.5 2.5 2.5-2.5 2.5 1.5 1.5 4-4-4-4z'/%3E%3C/svg%3E");
      }

      .diagram-code{
        display: flex;
        flex-direction: row;
      }

      .card-body{
        justify-content: center;
        text-align: center;
      }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
          <a class="navbar-brand"> Projeto Prático de IoT</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <span class="navbar-text" style="display:flex; flex-direction: row;">
            <a  id="navbar-sc" class="nav-link active" aria-current="page" href="./projeto_pratico.zip" target="_blank">Download código .ino</a>
          </span>
        </div>
    </nav>

    <div class="mbr-overlay">
      <div id="carrousel" class="carousel slide carousel-fade" style="width: 100%; background-image:url('./assets/circuit.jpg'); background-size: 50%;" data-bs-ride="carousel">
        <div class="carousel-inner" style="padding: 0 25%;">
          <div class="carousel-item active">
            <img src="./assets/table.jpeg" style="margin-left: 4%; width: 100vh;" alt="mesa">
          </div>
          <div class="carousel-item">
            <img src="./assets/topview.jpeg" style="margin-left: 4%; width: 100vh" alt="vista de cima">
          </div>
          <div class="carousel-item">
            <img src="./assets/sideview.jpeg" style="margin-left: 4%; width: 100vh" alt="vista de lado">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carrousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carrousel" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </div>

    <div class="content">
      <section>
          <iframe 
              width="440" 
              height="250" 
              style="border: 1px solid #cccccc;" 
              src="https://thingspeak.com/channels/1382666/charts/1?bgcolor=%23ffffff&color=%23d62020&dynamic=true&
              results=60&title=Umidade+do+solo&type=line&update=15&api_key=CILXO3OXKIS0QB3O">
          </iframe>
      </section>
      <section>
          <iframe 
              width="440" 
              height="250" 
              style="border: 1px solid #cccccc;" 
              src="https://thingspeak.com/channels/1382666/charts/2?bgcolor=%23ffffff&color=%23d62020&dynamic=true&
              results=60&title=Umidade+DHT11&type=line&api_key=CILXO3OXKIS0QB3O">
          </iframe>
      </section>
      <section>
          <iframe 
              width="440" 
              height="250" 
              style="border: 1px solid #cccccc;" 
              src="https://thingspeak.com/channels/1382666/charts/3?bgcolor=%23ffffff&color=%23d62020&dynamic=true&
              results=60&title=Temperatura+DHT11&type=line&api_key=CILXO3OXKIS0QB3O"></iframe>
      </section> 
    </div>

    <h1 style="margin-bottom: 15px; margin-top: 15px; text-align: center; font-size: 50px">Sobre o Projeto</h1>

    <div class="container" style="padding: 20px 10px; text-align: justify; font-size: 15pt;">

      <p>
        Em uma tarde de domingo nos reunimos para tratar da parte prática da matéria de "Projeto de Internet das Coisas" 
        focado no uso do microcontrolador NodeMCU e a plataforma para envio e vizualização de dados ThingSpeak. Usando um
        sensor de umidade do solo e um sensor de umidade e temperatura DHT11 conectados no NodeMCU, enviamos os dados coletados
        para o ThingSpeak, que replicamos nessa página de apresentação com o embed fornecido.
      </p>

      <div style="display:flex; flex-direction: column; align-items: center; margin-bottom: 20px">
        <img src="./assets/team.jpeg" style="width: 40%;" class="img-thumbnail" alt="time">
      </div>

      <p>
        Nosso projeto tem como finalidade fazer o monitoramento de umidade do solo, umidade do ar e temperatura nas proximidades do local onde uma planta pode se desenvolver. Este protótipo funciona da seguinte maneira: O microcontrolador (NodeMCU 8266) recebe os dados de 2 sensores conectados a ela, são eles: sensor de umidade de solo (higômetro) e o sensor de umdade do ar e tempreatura (DHT11).
      </p>

      <div style="display:flex; flex-direction: column; align-items: center; margin-bottom: 20px;">
        <img src="./assets/iot.png" style="width: 35%; " alt="diagrama">
      </div>

      <p>
        Após receber os dados, é utilizado o módulo Wifi da placa para se conectar a internet. Após a conexão ser estabelecida nós enviamos os dados coletados para a um canal pré criado na API do Thingspeak. Neste canal está definido 3 variáveis, umidade do solo, umidade do ar e temperatura. E pronto. Também devemos considerar que é necessário instalar algumas bibliotecas para total funcionamento do circuito, tudo pode ser encontrado no código fonte disponibilizado logo abaixo.
      </p>
    </div>

    <div style="display:flex; flex-direction: column; align-items: center; margin-bottom: 20px;">
      <div style="background: ghostwhite;
              overflow: scroll;
              height: 500px;
              width: 800px;
              font-size: 20px; 
              padding: 10px; 
              border: 1px solid lightgray; 
              margin: 10px;">
  <pre>
  #include <.DHT.h>
  #include <.ESP8266WiFi.h>
  #include <.ThingSpeak.h>
  
  #define SSID "Ricardo_WIFI"
  #define SENHA "nakamura15"
  
  #define CHANNEL_ID 1382666
  #define WRITE_API_KEY "EDFM3JSSTT6OXXPT"
  
  
  //Pino ligado é o D4, mas a GPIO dele é 2
  #define PINO_SENSOR 2
  #define TIPO_SENSOR DHT11
  
  DHT dht(PINO_SENSOR,TIPO_SENSOR);
  
  WiFiClient client;
  
  
  void setup() {
    Serial.begin(9600);
  
    WiFi.begin(SSID,SENHA);
  
    while(WiFi.status() != WL_CONNECTED){
        Serial.println(".");
        delay(100);
    }
  
    Serial.println("Conectado com sucesso no wifi");
    Serial.println("Leituras do Sensor Umidade do Solo");
    dht.begin();
  
    ThingSpeak.begin(client);
  
  }
  
  void loop() {
    float temperatura_dht11 = dht.readTemperature();
    float umidade_dht11 = dht.readHumidity();
    int valorLido = analogRead(0);
    float umidade_solo = 100 * ((1024 -(float)valorLido) / 1024);
    Serial.print("Umidade do solo: ");
    Serial.print(umidade_solo);
    Serial.println("%");
  
    ThingSpeak.setField(1,umidade_solo);
    ThingSpeak.setField(2,umidade_dht11);
    ThingSpeak.setField(3,temperatura_dht11);
    ThingSpeak.writeFields(CHANNEL_ID,WRITE_API_KEY);
    delay(30000);
  }
  </pre>
    </div>

      <div> 
        <h1 style="margin-bottom: 30px; text-align: center; font-size: 50px;">Equipe</h1>
        <div class="container" style="display: flex; flex-direction: grid; grid-template: 150px / auto auto auto; gap: 120px; justify-content: center;">
            <section>
                <div class="card" style="width: 14rem;">
                    <img src="https://avatars.githubusercontent.com/u/48365833?v=4" class="card-img-top" alt="...">
                    <div class="card-body">
                      <h5 class="card-title">Andrew Fernandes</h5>

                      <a href="https://github.com/andrew8gmf" class="btn btn-dark" target="_blank">Github</a>
                      <a href="https://www.linkedin.com/in/andrewgmfernandes/" class="btn btn-primary" target="_blank">Linkedin</a>
                    </div>
                  </div>
            </section>
    
            <section>
                <div class="card" style="width: 14rem;">
                    <img src="https://avatars.githubusercontent.com/u/55965650?v=4" class="card-img-top" alt="...">
                    <div class="card-body">
                      <h5 class="card-title">Augusto Possatti</h5>

                      <a href="https://github.com/AGpossati" class="btn btn-dark" target="_blank">Github</a>
                      <a href="https://www.linkedin.com/in/augusto-possatti-b78221170/" class="btn btn-primary" target="_blank">Linkedin</a>
                    </div>
                  </div>
            </section>
    
            <section>
                <div class="card" style="width: 14rem;">
                    <img src="https://avatars.githubusercontent.com/u/53915449?v=4" class="card-img-top" alt="...">
                    <div class="card-body">
                      <h5 class="card-title">Bruno Shimura</h5>

                      <a href="https://github.com/BrunoShimura" class="btn btn-dark" target="_blank">Github</a>
                      <a href="https://www.linkedin.com/in/brunoshimura/" class="btn btn-primary" target="_blank">Linkedin</a>
                    </div>
                  </div>
            </section>
        </div>
    
        <div class="container" style="display: flex; flex-direction: grid; grid-template: 150px / 50px auto auto; gap: 120px; justify-content: center; margin-top: 50px;">
            <section>
                <div class="card" style="width: 14rem;">
                    <img src="https://avatars.githubusercontent.com/u/48365582?v=4" class="card-img-top" alt="...">
                    <div class="card-body">
                    <h5 class="card-title">Felipe Jonas</h5>
                    <a href="https://github.com/felipenjonas" class="btn btn-dark" target="_blank">Github</a>
                    <a href="https://www.linkedin.com/in/felipenjonas/" class="btn btn-primary" target="_blank">Linkedin</a>
                    </div>
                </div>
            </section>
    
            <section>
                <div class="card" style="width: 14rem;">
                    <img src="https://avatars.githubusercontent.com/u/66325166?v=4" class="card-img-top" alt="...">
                    <div class="card-body">
                    <h5 class="card-title">Natan Prado</h5>
                    <a href="https://github.com/HSSNPdS" class="btn btn-dark" target="_blank">Github</a>
                    <a href="https://www.linkedin.com/in/natan-prado-404b661b4/" class="btn btn-primary" target="_blank">Linkedin</a>
                    </div>
                </div>
            </section>
    
            <section>
                <div class="card" style="width: 14rem;">
                    <img src="./assets/shin.png" class="card-img-top" alt="...">
                    <div class="card-body">
                    <h5 class="card-title">Victor Shin</h5>
                    <a href="https://github.com/sengchi" class="btn btn-dark" target="_blank">Github</a>
                    <a href="https://www.linkedin.com/in/victor-shin-iti-omae-nakamura-95426b195/" class="btn btn-primary" target="_blank">Linkedin</a>  
                  </div>
                </div>
            </section>
      </div>
    </div>

    <div style="margin-top: 50px;">
      <h2>PINAR ® seu partido desde 2019.</h2>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
  </body>
</html>